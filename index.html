<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tawāfuq | منصّة وطنية لتنظيم الخطبة وبناء قرار زواج واعٍ</title>
  <meta name="description" content="توافق | Tawāfuq — منصّة وطنية ذكية لتنظيم الخطبة وبناء قرار زواج واعٍ عبر اختبارات توافق مقنّنة، تواصل شرعي منضبط، محتوى توعوي، وإرشاد أسري." />

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Tawāfuq | منصّة وطنية لتنظيم الخطبة وبناء قرار زواج واعٍ" />
  <meta property="og:description" content="اختبارات توافق مقنّنة، تواصل شرعي بإشراف، محتوى توعوي، وإرشاد أسري — مع تكاملات حكومية للموثوقية والخصوصية." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Performance hints -->
  <link rel="preconnect" href="https://cdn.tailwindcss.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">

  <!-- Tailwind (CDN) -->
  <script defer src="https://cdn.tailwindcss.com"></script>

  <!-- Icons / Charts / PDF / QR (كلها مؤجلة) -->
  <script defer src="https://kit.fontawesome.com/4fdf4f8e7d.js" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

  <style>
    :root{
      --brand:#0EA5A8;           /* تركوازي */
      --brand-dk:#0B7C7E;        /* تركوازي داكن */
      --sand:#E7D7C9;            /* رملي */
      --gray:#6B7280;            /* رمادي للنصوص */
    }
    .bg-brand{ background:var(--brand) }
    .text-brand{ color:var(--brand) }
    .text-brand-dk{ color:var(--brand-dk) }
    .bg-sand{ background:var(--sand) }

    /* شريط علوي ثابت مع ظل خفيف */
    header.topbar{
      position:sticky; top:0; z-index:50; background:#fff; border-bottom:1px solid #e5e7eb;
      backdrop-filter:saturate(180%) blur(6px);
    }

    /* شريط القوائم: سطر واحد دائمًا مع تمرير أفقي على الجوال */
    .main-nav{
      white-space:nowrap; overflow-x:auto; scrollbar-width:none;
      -ms-overflow-style:none;
    }
    .main-nav::-webkit-scrollbar{ display:none; }

    /* ضبط أحجام الشعارات */
    .brand-right img{ height:36px; width:auto; }
    .brand-left img{ height:26px; width:auto; }
    @media (min-width: 768px){
      .brand-right img{ height:42px }
      .brand-left img{ height:32px }
    }

    /* مسافة آمنة بين الشعار الأيسر وحافة الشاشة */
    .brand-left{ padding-left:10px }

    /* أزرار عامة */
    .btn{ padding:.6rem 1rem; border-radius:.75rem; font-weight:600; }
    .btn-brand{ background:var(--brand); color:#fff; }
    .btn-ghost{ background:#F3F4F6; }

    /* بطاقات */
    .card{ background:#fff; border:1px solid #e5e7eb; border-radius:1rem; padding:1rem }

    /* تحسين الطباعة الأساسية للشهادة لاحقًا */
    @media print{
      header, .main-nav, footer { display:none !important }
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">

  <!-- ============ الهيدر ============ -->
  <header class="topbar">
    <div class="max-w-7xl mx-auto px-3 sm:px-4">
      <div class="flex items-center justify-between py-3 gap-3">
        <!-- يمين: شعار Tawāfuq أكبر قليلاً -->
        <div class="brand-right flex items-center gap-2 md:gap-3">
          <img src="Tawafuq.logo.svg" alt="شعار توافق Tawāfuq" loading="eager" />
          <div class="hidden sm:block">
            <div class="text-sm text-gray-500">منصّة</div>
            <div class="text-lg md:text-xl font-extrabold text-brand-dk">Tawāfuq | توافق</div>
          </div>
        </div>

        <!-- القوائم: سطر واحد دائمًا -->
        <nav class="main-nav flex-1 mx-2 md:mx-6">
          <ul class="flex items-center gap-3 md:gap-5 text-sm md:text-[15px]">
            <li><a href="#about" class="inline-block px-2 py-1 hover:text-brand">عن توافق</a></li>
            <li><a href="#features" class="inline-block px-2 py-1 hover:text-brand">المزايا</a></li>
            <li><a href="#test" class="inline-block px-2 py-1 hover:text-brand">اختبار التوافق</a></li>
            <li><a href="#verify" class="inline-block px-2 py-1 hover:text-brand">استعلام رقم التوافق</a></li>
            <li><a href="#wali" class="inline-block px-2 py-1 hover:text-brand">موافقة الولي</a></li>
            <li><a href="#advisors" class="inline-block px-2 py-1 hover:text-brand">إدارة المستشارين</a></li>
            <li><a href="#bookings" class="inline-block px-2 py-1 hover:text-brand">الحجوزات</a></li>
            <li><a href="#kpis" class="inline-block px-2 py-1 hover:text-brand">المؤشرات</a></li>
          </ul>
        </nav>

        <!-- يسار: شعاري 2030 ثم تلبية مع مسافة آمنة عن الحافة -->
        <div class="brand-left flex items-center gap-2 md:gap-3">
          <img src="vision2030.png" alt="شعار رؤية 2030" loading="lazy" />
          <img src="talbiya.png" alt="شعار مبادرة تلبية" loading="lazy" />
        </div>
      </div>
    </div>
  </header>

  <!-- ============ البطل / الواجهة الإفتتاحية ============ -->
  <section id="about" class="bg-gradient-to-l from-[#F8FFFE] to-[#F3F6F6]">
    <div class="max-w-7xl mx-auto px-4 py-10 md:py-14">
      <div class="grid md:grid-cols-2 gap-8 items-center">
        <!-- بطاقة مؤشرات صغيرة -->
        <div class="card shadow-sm">
          <h3 class="font-bold text-gray-700 mb-4">(تجريبية) مؤشرات تشغيلية</h3>
          <div class="grid grid-cols-2 gap-4">
            <div class="border rounded-xl p-4">
              <div class="text-sm text-gray-500">جلسات محجوزة</div>
              <div class="text-3xl font-extrabold">0</div>
            </div>
            <div class="border rounded-xl p-4">
              <div class="text-sm text-gray-500">نسبة توافق متوسطة</div>
              <div class="text-3xl font-extrabold text-brand">78%</div>
            </div>
            <div class="border rounded-xl p-4">
              <div class="text-sm text-gray-500">مراكز شريكة</div>
              <div class="text-3xl font-extrabold">8</div>
            </div>
            <div class="border rounded-xl p-4">
              <div class="text-sm text-gray-500">اختبارات مكتملة</div>
              <div class="text-3xl font-extrabold">0</div>
            </div>
          </div>
          <div class="text-[12px] text-gray-400 mt-3">* بيانات للعرض فقط</div>
        </div>

        <!-- نص تعريفي -->
        <div>
          <div class="inline-block text-[12px] px-3 py-1 bg-white border rounded-full text-gray-600 mb-3">منصّة وطنية لتنظيم الخطبة وبناء قرار واعٍ</div>
          <h1 class="text-3xl md:text-5xl font-extrabold leading-[1.2] mb-4">
            توافق <span class="text-brand">Tawāfuq</span><br />
            قرار زواج واثق ومستدام
          </h1>
          <p class="text-gray-600 leading-7 mb-5">
            اختبارات توافق مقنّنة، تواصل شرعي بإشراف، محتوى توعوي قصير، وإرشاد أسري —
            مع إمكانيّة التكامل مع الجهات الحكومية لرفع الموثوقية وحماية الخصوصية.
          </p>
          <div class="flex flex-wrap gap-3">
            <a href="#test" class="btn btn-brand">ابدأ اختبار التوافق</a>
            <a href="#features" class="btn btn-ghost">تعرّف أكثر</a>
          </div>

          <!-- شارات سريعة -->
          <div class="flex flex-wrap gap-2 mt-4 text-sm">
            <span class="px-3 py-1 bg-white border rounded-full">تحقق الهوية</span>
            <span class="px-3 py-1 bg-white border rounded-full">مؤشر توافق وطني</span>
            <span class="px-3 py-1 bg-white border rounded-full">استشارات معتمدة</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ أمثلة أقسامك القائمة (اختصار) ============ -->
  <main class="max-w-7xl mx-auto px-4 py-8 space-y-8">
    <section id="features" class="card">
      <h2 class="text-xl font-bold mb-2">المزايا الرئيسية</h2>
      <ul class="list-disc pr-5 text-gray-700 space-y-1">
        <li>اختبار توافق ذكي متعدد المحاور (قيم، أهداف، سمات، مال، تواصل).</li>
        <li>استعلام جهات برقم التوافق (QR/رمز تتبّع).</li>
        <li>موافقة وليّ الأمر بالتوقيع الرقمي.</li>
        <li>لوحة إدارة مستشارين وحجوزات جلسات (تجريبي LocalStorage).</li>
      </ul>
    </section>

    <!-- مؤشرات (مكان للرسم إن رغبت) -->
    <section id="kpis" class="card">
      <h2 class="text-xl font-bold mb-3">لوحة مؤشرات تشغيلية</h2>
      <canvas id="kpiChart" height="100" aria-label="مخطط مؤشرات"></canvas>
    </section>
  </main>

  <footer class="text-xs text-gray-500 py-10 text-center">
    © جميع الحقوق محفوظة لشركة <span class="font-semibold">تلبية للبحث والتطوير</span>.
    آخر تحديث: <span id="lastUpdated"></span>
  </footer>

  <!-- ============ سكربتات الصفحة ============ -->
  <script>
    // آخر تحديث
    document.getElementById('lastUpdated').textContent = new Date().toLocaleDateString('ar-SA');

    // تنشيط الرابط الحالي بصريًا عند النقر
    document.querySelectorAll('.main-nav a').forEach(a=>{
      a.addEventListener('click', ()=>{
        document.querySelectorAll('.main-nav a').forEach(x=>x.removeAttribute('aria-current'));
        a.setAttribute('aria-current','page');
      });
    });

    // رسم KPI تجريبي بسيط
    (function drawKPIs(){
      if(!window.Chart) return;
      const ctx=document.getElementById('kpiChart');
      new Chart(ctx,{
        type:'bar',
        data:{ labels:['جلسات','اختبارات','توافق متوسط','مدن'],
          datasets:[{ label:'مؤشرات', data:[0,3,78,5], backgroundColor:'#0EA5A8' }] },
        options:{ responsive:true, plugins:{ legend:{display:false} } }
      });
    })();

    // ============ PWA داخل ملف واحد ============
    (function oneFilePWA(){
      // manifest كـ Blob
      const manifest = {
        name: "Tawāfuq",
        short_name: "Tawāfuq",
        start_url: ".",
        display: "standalone",
        background_color: "#ffffff",
        theme_color: "#0EA5A8",
        icons: []
      };
      const mURL = URL.createObjectURL(new Blob([JSON.stringify(manifest)], {type:'application/manifest+json'}));
      const link = document.createElement('link');
      link.rel = 'manifest'; link.href = mURL; document.head.appendChild(link);

      // service worker كـ Blob
      const swCode = `
        self.addEventListener('install', e=>{
          e.waitUntil(caches.open('tawafuq-v1').then(c=>c.addAll(['./'])));
          self.skipWaiting();
        });
        self.addEventListener('activate', e=>{ self.clients.claim(); });
        self.addEventListener('fetch', e=>{
          e.respondWith(
            caches.match(e.request).then(r=> r || fetch(e.request))
          );
        });
      `;
      const swURL = URL.createObjectURL(new Blob([swCode], {type:'text/javascript'}));
      if('serviceWorker' in navigator){
        navigator.serviceWorker.register(swURL).catch(()=>{});
      }
    })();
  </script>
</body>
</html>
